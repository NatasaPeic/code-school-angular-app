<!DOCTYPE html>
<html ng-app="gemStore">
    <head>
      <title>Angular</title>

      <meta name="viewport" content="width=device-width, initial-scale=1">

      <script src="vendor.bundle.js" type="text/javascript" charset="utf-8" defer></script>
      <script src="bundle.js" type="text/javascript" charset="utf-8" defer></script>

      <link href="styles/main.css" rel="stylesheet" />
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>

      <script type="text/javascript" src="assets/scripts/app.js"></script>


    </head>
    <body ng-controller = "StoreController as store">
    <div class="container">

        <div class="row">

            <div ng-show="product.images.length" ng-repeat = "product in store.products" class="col-lg-12 text-center">
                <h1>{{product.name}}</h1>
                <p class="lead">{{product.price | currency}}</p>
                <!-- <button ng-show="store.product.canPurchase" type="button" class="btn btn-outline-info">Info</button> -->

            <div ng-controller="GalleryController as gallery" ng-show="product.images.length" class="col-lg-12 text-center">
                <img ng-src="{{product.images[gallery.current]}}" />

                <ul class="list-unstyled">
                   <li class = "thumbnail" ng-repeat="image in product.images">
                   <img ng-src="{{image}}" />
                   </li>
               </ul>
             </div>



            <!-- demonstration purposes

            <section>
               <ul class="nav nav-pills">
                  <li><a href ng-click="tab = 1">Description </a> </li>
                  <li><a href ng-click="tab = 2">Specification</a>  </li>
                  <li><a href ng-click="tab = 3">Reviews</a>  </li>
              </ul>
              {{tab}}
            </section>

          -->


            <section ng-controller="PanelController as panel">
               <ul class="nav nav-pills">
                  <li ng-class="{ active: panel.isSelected(1)}">
                    <a href ng-click="panel.selectTab(1)">Description </a> </li>

                  <li ng-class="{ active: panel.isSelected(2)}">
                    <a href ng-click="panel.selectTab(2)">Specification</a>  </li>

                  <li ng-class="{ active: panel.isSelected(3)}">
                    <a href ng-click="panel.selectTab(3)">Reviews</a>  </li>
              </ul>




                <div class="row" ng-show="panel.isSelected(1)">
                  <h4>Description</h4>
                    <p>
                      {{product.description}}
                    </p>
                </div>

                <div class="row" ng-show="panel.isSelected(2)">
                  <h4>Specifications</h4>
                    <p> Shine:
                      {{product.shine}}
                    </p>
                </div>



                <div class="row" ng-show="panel.isSelected(3)">
                  <blockquote ng-repeat="review in product.reviews">
                     <b> Stars: {{review.stars}}</b>
                   <br>
                     {{review.body}}
                     <br>
                     <cite>by: {{review.author}}</cite>
                  </blockquote>
                </div>



                <form name="reviewForm" ng-controller="ReviewController as reviewCtrl">
                    <blockquote>
                       <b> {{reviewCtrl.review.stars}} Stars</b>
                       <br>
                     {{reviewCtrl.review.body}}
                       <br>
                       <cite>-{{reviewCtrl.review.author}}</cite>
                    </blockquote>

                    <h4>Submit a Review</h4>
                    <fieldset class="form-group">

                    <select class="form-control" ng-model="reviewCtrl.review.stars" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars">
                      <option value="">Rate this product</option>
                    </select>
                    </fieldset>


                    <fieldset class="form-group">
                    <textarea ng-model="reviewCtrl.review.body" class="form-control" placeholder="Write a short review of the product..." title="Review" name="name" rows="8" cols="40"></textarea>
                  </fieldset>

                    <fieldset class="form-group">
                    <input ng-model="rreviewCtrl.eview.author" class="form-control" type="email" placeholder="jimmyDean@example.org" title="Email"  />
                    </fieldset>

                    <fieldset class="form-group">
                    <input class="form-control" type="submit" name="name" value="Submit">
                    </fieldset>



                </form>








          </section>

            </div>
        </div>
        <!-- /.row -->

    </div>
  </body>
</html>
